{"version":3,"sources":["pages/Banner.tsx","components/BtnClose.tsx","components/QRcode.tsx","pages/Final.tsx","components/Agreement.tsx","components/BtnConfirm.tsx","components/Keyboard.tsx","pages/Main.tsx","App.tsx","index.tsx"],"names":["Banner","React","useState","showBanner","setShowbanner","useEffect","setBanner","setTimeout","className","src","alt","to","width","height","autoPlay","muted","BtnClose","QRcode","Final","Agreement","isAgree","toggleAgreement","onClick","BtnConfirm","onClickFinal","Keyboard","numbers","Array","fill","map","_","i","bind","id","Main","telephoneNumbers","setTelephoneNumbers","setIsAgree","telephone","currentNumber","isConfirmed","currentTelephone","setCurrentTelephone","isConfirm","checkingCorrect","setCheckingCorrect","isValidate","setIsValidate","urlValidate","initialState","fetched","a","length","fetch","then","res","json","valid","clickHandler","prev","console","log","join","data","copyTelephone","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.654f6090.chunk.js","sourcesContent":["import React from 'react';\r\nimport '../styles/banner.scss';\r\nimport { NavLink} from 'react-router-dom'\r\n\r\nexport const Banner: React.FC = () => {\r\n    const [showBanner, setShowbanner] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        setBanner();\r\n    }, [])\r\n\r\n    const setBanner = () => {\r\n        setTimeout(() => {\r\n            setShowbanner(true);\r\n        }, 5000)\r\n    };\r\n\r\n    return (\r\n        <div className=\"banner\">\r\n            <div className={`banner__next ${showBanner ? 'banner__next--show' : ''}`}>\r\n                <h3 className=\"banner__title\">Исполните мечту вашего малыша!<br/>Подарите ему собаку!</h3>\r\n                <img src=\"images/final/qrcode.png\" alt=\"\" />\r\n                <p className=\"banner__text\">Сканируйте QR-код<br/> или нажмите ОК</p>\r\n                <NavLink to=\"main\">\r\n                    <button className=\"banner__btn\">ОК</button>\r\n                </NavLink>\r\n            </div>\r\n            <video width=\"1280\" height=\"720\" autoPlay muted >\r\n                <source src=\"videos/videobanner.mp4\"/>\r\n            </video>\r\n            <img className=\"banner__back\" src=\"images/banner/video.png\" alt=\"\" />\r\n        </div>\r\n    )\r\n};\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport '../styles/btnClose.scss';\r\n\r\nexport const BtnClose = () => {\r\n    return (\r\n        <NavLink to=\"\">\r\n            <div className=\"btn-block\">\r\n                <button className=\"btn-close\">\r\n                    <div className=\"btn-close__lines\">\r\n                        <span className=\"btn-close--lineFirst\"></span>\r\n                        <span className=\"btn-close--lineSecond\"></span>\r\n                    </div>\r\n                </button>\r\n            </div>\r\n        </NavLink>\r\n    )\r\n};\r\n","import React from 'react';\r\nimport '../styles/qrcode.scss';\r\n\r\nexport const QRcode = () => {\r\n    return (\r\n        <div className=\"qr-code\">\r\n            <p className=\"qr-code__text\">Сканируйте QR-код для получения дополнительной информации</p>\r\n            <img src=\"images/final/qrcode.png\" alt=\"\" />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\nimport { BtnClose } from '../components/BtnClose';\r\nimport { QRcode } from '../components/QRcode';\r\n\r\nimport '../styles/final.scss';\r\n\r\nexport const Final = () => {\r\n    return (\r\n        <div className=\"side-page\">\r\n            <div className=\"side-page__left\">\r\n                <div className=\"final__success\">\r\n                    <div className=\"final__success--center\">\r\n                        <h1 className=\"left__title\">Заявка принята</h1>\r\n                        <p className=\"left__text\">Держите телефон под рукой.<br />Скоро с Вами свяжется наш менеджер. </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        \r\n            <div className=\"side-page__right\">\r\n                <img src=\"images/final/wallpaper.png\" alt=\"\" />\r\n                <BtnClose />\r\n                <QRcode />\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n","import React from 'react';\r\nimport '../styles/agreement.scss';\r\n\r\ninterface AgreementProps {\r\n    isAgree: boolean;\r\n    toggleAgreement: () => void;\r\n}\r\n\r\nexport const Agreement:React.FC<AgreementProps> = ({ isAgree, toggleAgreement }) => {\r\n    return (\r\n        <div className=\"agreement\">\r\n            <div onClick={toggleAgreement} className=\"agreement__checkbox\">\r\n                <div className=\"checkbox__lines\">\r\n                    {\r\n                        isAgree\r\n                            ? <>\r\n                                <span className=\"checkbox--lineFirst\"></span>\r\n                                <span className=\"checkbox--lineSecond\"></span>\r\n                            </>\r\n                            : null\r\n                    }\r\n                </div>\r\n            </div>\r\n            <p className=\"agreement__text\">Согласие на обработку персональных данных</p>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport '../styles/btnConfirm.scss'\r\n\r\ninterface BtnConfirmProps {\r\n    onClickFinal: () => void;\r\n}\r\n\r\nexport const BtnConfirm: React.FC<BtnConfirmProps> = ({ onClickFinal }) => {\r\n    return (\r\n        <div onClick={onClickFinal}  className=\"confirm\">\r\n            <button className=\"confirm__btn\">Подтвердить номер</button>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport '../styles/keyboard.scss';\r\n\r\ninterface KeyboardProps {\r\n    onClick: (data: number | string) => void;\r\n}\r\n\r\nexport const Keyboard: React.FC<KeyboardProps> = ({ onClick }) => {\r\n    const numbers: Array<number> = Array(9).fill(0);\r\n\r\n    return (\r\n        <div className=\"keyboard\">\r\n            {\r\n                numbers.map((_, i) => {\r\n                    return <div key={i + 'key'} onClick={onClick.bind(null, i + 1)} id={`${i + 1}`} data-number={i + 1}>{i + 1}</div>\r\n                })\r\n            }\r\n            <div onClick={onClick.bind(null, 0)} id=\"0\" data-number=\"0\">0</div>\r\n            <div onClick={onClick.bind(null, 'delete')} id=\"delete\" data-number=\"delete\">Стереть</div>\r\n        </div>\r\n    )\r\n};\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { Agreement } from '../components/Agreement';\r\nimport { BtnClose } from '../components/BtnClose';\r\nimport { BtnConfirm } from '../components/BtnConfirm';\r\nimport { Keyboard } from '../components/Keyboard';\r\nimport { QRcode } from '../components/QRcode';\r\nimport { IPhoneNumber, ICheckCorrect } from '../types/types';\r\n\r\nimport '../styles/main.scss';\r\n\r\nexport const Main: React.FC = () => {\r\n    const [telephoneNumbers, setTelephoneNumbers]  = React.useState<Array<any>>(Array(16).fill('_'));\r\n    const [isAgree, setIsAgree] = React.useState<boolean>(false);\r\n    const [currentTelephone, setCurrentTelephone] = React.useState<IPhoneNumber>({ telephone: '', currentNumber: 0, isConfirmed: false});\r\n    const [checkingCorrect, setCheckingCorrect] = React.useState<ICheckCorrect>({isAgree: false, isConfirm: false});\r\n    const [isValidate, setIsValidate] = React.useState<boolean>(false);\r\n\r\n    let accessKeyValidate = 'e610a2d5d0ba6c99699e781f4347ff31';\r\n    let urlValidate = 'http://apilayer.net/api/validate?access_key=' + accessKeyValidate + '&number=' + currentTelephone.telephone + '&country_code=RU' + '&format=1';\r\n\r\n    const initialState = () => {\r\n        setTelephoneNumbers(telephoneNumbers.map((_, i) => {\r\n            telephoneNumbers[i] = '_';\r\n            telephoneNumbers[0] = '+';\r\n            telephoneNumbers[1] = '7';\r\n            telephoneNumbers[2] = '(';\r\n            telephoneNumbers[6] = ')';\r\n            telephoneNumbers[10] = '-';\r\n            telephoneNumbers[13] = '-';\r\n            return telephoneNumbers[i];\r\n        }));\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        initialState();\r\n    }, [])\r\n\r\n    const fetched = async () => {\r\n        if (currentTelephone.telephone.length === 10)\r\n        {\r\n            await fetch(urlValidate).then(res => res.json()).then(({ valid }) => {\r\n                if (valid === true) {\r\n                    setIsValidate(true)\r\n                }\r\n                else {\r\n                    setIsValidate(false)\r\n                }\r\n            })\r\n        }\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        fetched();\r\n    }, [currentTelephone.telephone])\r\n\r\n    const changeAgreement = () => {\r\n        setIsAgree(prev => prev = !prev);\r\n    };\r\n    const handleClickKeyboard = (data: number | string) => {\r\n        if (currentTelephone.currentNumber === 9) {\r\n            setCurrentTelephone(prev => ({\r\n                ...prev,\r\n                isConfirmed: true,\r\n            }))\r\n        } else {\r\n        setCurrentTelephone(prev => ({\r\n            ...prev, \r\n            currentNumber: prev.currentNumber + 1,\r\n        }));\r\n    }\r\n\r\n        if (data === 'delete') {\r\n            initialState();\r\n            setCurrentTelephone(prev => ({\r\n                ...prev,\r\n                telephone: '',\r\n                currentNumber: 0,\r\n                isConfirmed: false,\r\n            }));\r\n        }\r\n        else {\r\n            let copyTelephone = [...telephoneNumbers];\r\n                for (let i = 0; i < copyTelephone.length; i++) {\r\n                    if (copyTelephone[i] === '_') {\r\n                       copyTelephone[i] = data;\r\n                       break;\r\n                    }\r\n            }\r\n            if (currentTelephone.currentNumber < 10) {\r\n                setCurrentTelephone(prev => ({\r\n                    ...prev,\r\n                    telephone: prev.telephone + data,\r\n                }));\r\n            }\r\n            setTelephoneNumbers(copyTelephone);\r\n        }\r\n    };\r\n\r\n\r\n    const clickHandler = () => {\r\n        if (!isValidate) {\r\n            console.log('yes', isValidate)\r\n            setCheckingCorrect(prev => ({\r\n                ...prev,\r\n                isConfirm: true\r\n            }))\r\n        }\r\n        else if (!isAgree) {\r\n            setCheckingCorrect(prev => ({\r\n                ...prev,\r\n                isAgree: true\r\n            }))\r\n        }\r\n\r\n        setTimeout(() => {\r\n            setCheckingCorrect(prev => ({\r\n                ...prev,\r\n                isConfirm: false,\r\n                isAgree: false,\r\n            }))  \r\n        }, 2000)\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"side-page\">\r\n            <div className=\"side-page__left\">\r\n                <div className=\"main__success\">\r\n                    <div className=\"main__success--center\">\r\n                        <h2 className=\"main__title\">Введите ваш номер мобильного телефона</h2>\r\n                        {\r\n                            \r\n                        }\r\n                        <h1 className={`main__telephone ${checkingCorrect.isConfirm ? 'isRight' : ''}`}>{telephoneNumbers.join('')}</h1>\r\n                        <p className=\"main__text\">и с Вами свяжется наш менеждер для дальнейшей консультации</p>\r\n                        <Keyboard onClick={handleClickKeyboard} />\r\n                        {\r\n                            checkingCorrect.isConfirm\r\n                                ? <p className=\"isRight\">Неверно введен номер</p>\r\n                                : checkingCorrect.isAgree\r\n                                    ? <p className=\"isRight\">Дайте свое согласие на обработку ПД</p>\r\n                                    : <Agreement toggleAgreement={changeAgreement} isAgree={isAgree} />\r\n                                \r\n                        }\r\n                        \r\n                        {\r\n                            !(isAgree && currentTelephone.isConfirmed && isValidate)\r\n                                ? <BtnConfirm  onClickFinal={clickHandler} />\r\n                                : <NavLink to=\"final\">\r\n                                    <BtnConfirm onClickFinal={clickHandler} />\r\n                                </NavLink>\r\n                        }\r\n                        \r\n                    </div>\r\n                </div>\r\n            \r\n            </div>\r\n            <div className=\"side-page__right\">\r\n                <img src=\"images/final/wallpaper.png\" alt=\"\" />\r\n                <BtnClose />\r\n                <QRcode />\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\n\nimport { Banner } from './pages/Banner';\nimport { Final } from './pages/Final';\nimport { Main } from './pages/Main';\n\nconst App: React.FC = () => {\n  return (\n    <Router>\n      <div className=\"wrapper\">\n        <div className=\"container\">\n          <Switch>\n            <Route exact path=\"\" component={Banner}/>\n            <Route exact path=\"main\" component={Main} />\n            <Route exact path=\"final\" component={Final} />\n          </Switch>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}