{"version":3,"sources":["components/BtnClose.tsx","components/QRcode.tsx","pages/Final.tsx","components/Agreement.tsx","components/BtnConfirm.tsx","components/Keyboard.tsx","pages/Main.tsx","App.tsx","index.tsx"],"names":["BtnClose","to","className","QRcode","src","alt","Final","Agreement","isAgree","toggleAgreement","onClick","BtnConfirm","onClickFinal","Keyboard","numbers","Array","fill","map","_","i","bind","id","Main","React","useState","telephoneNumbers","setTelephoneNumbers","setIsAgree","telephone","currentNumber","isConfirmed","currentTelephone","setCurrentTelephone","isConfirm","checkingCorrect","setCheckingCorrect","isValidate","setIsValidate","urlValidate","initialState","useEffect","fetched","a","length","fetch","then","res","json","valid","clickHandler","prev","console","log","setTimeout","join","data","copyTelephone","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4VAKaA,EAAW,WACpB,OACI,cAAC,IAAD,CAASC,GAAG,IAAZ,SACI,qBAAKC,UAAU,YAAf,SACI,wBAAQA,UAAU,YAAlB,SACI,sBAAKA,UAAU,mBAAf,UACI,sBAAMA,UAAU,yBAChB,sBAAMA,UAAU,oCCT3BC,G,MAAS,WAClB,OACI,sBAAKD,UAAU,UAAf,UACI,mBAAGA,UAAU,gBAAb,4TACA,qBAAKE,IAAI,0BAA0BC,IAAI,UCAtCC,G,MAAQ,WACjB,OACI,sBAAKJ,UAAU,YAAf,UACI,qBAAKA,UAAU,kBAAf,SACI,qBAAKA,UAAU,iBAAf,SACI,sBAAKA,UAAU,yBAAf,UACI,oBAAIA,UAAU,cAAd,6FACA,oBAAGA,UAAU,aAAb,qJAAoD,uBAApD,kMAKZ,sBAAKA,UAAU,mBAAf,UACI,qBAAKE,IAAI,6BAA6BC,IAAI,KAC1C,cAAC,EAAD,IACA,cAAC,EAAD,Y,gDCdHE,G,MAAqC,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,QAASC,EAAsB,EAAtBA,gBAC1D,OACI,sBAAKP,UAAU,YAAf,UACI,qBAAKQ,QAASD,EAAiBP,UAAU,sBAAzC,SACI,qBAAKA,UAAU,kBAAf,SAEQM,EACM,qCACE,sBAAMN,UAAU,wBAChB,sBAAMA,UAAU,4BAElB,SAIlB,mBAAGA,UAAU,kBAAb,qPChBCS,G,MAAwC,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aACpD,OACI,qBAAKF,QAASE,EAAeV,UAAU,UAAvC,SACI,wBAAQA,UAAU,eAAlB,mHCHCW,G,MAAoC,SAAC,GAAiB,IAAfH,EAAc,EAAdA,QAC1CI,EAAyBC,MAAM,GAAGC,KAAK,GAE7C,OACI,sBAAKd,UAAU,WAAf,UAEQY,EAAQG,KAAI,SAACC,EAAGC,GACZ,OAAO,qBAAqBT,QAASA,EAAQU,KAAK,KAAMD,EAAI,GAAIE,GAAE,UAAKF,EAAI,GAAK,cAAaA,EAAI,EAA1F,SAA8FA,EAAI,GAAxFA,EAAI,UAG7B,qBAAKT,QAASA,EAAQU,KAAK,KAAM,GAAIC,GAAG,IAAI,cAAY,IAAxD,eACA,qBAAKX,QAASA,EAAQU,KAAK,KAAM,UAAWC,GAAG,SAAS,cAAY,SAApE,6DCNCC,G,MAAiB,WAC1B,MAAiDC,IAAMC,SAAqBT,MAAM,IAAIC,KAAK,MAA3F,mBAAOS,EAAP,KAAyBC,EAAzB,KACA,EAA8BH,IAAMC,UAAkB,GAAtD,mBAAOhB,EAAP,KAAgBmB,EAAhB,KACA,EAAgDJ,IAAMC,SAAuB,CAAEI,UAAW,GAAIC,cAAe,EAAGC,aAAa,IAA7H,mBAAOC,EAAP,KAAyBC,EAAzB,KACA,EAA8CT,IAAMC,SAAwB,CAAChB,SAAS,EAAOyB,WAAW,IAAxG,mBAAOC,EAAP,KAAwBC,EAAxB,KACA,EAAoCZ,IAAMC,UAAkB,GAA5D,mBAAOY,EAAP,KAAmBC,EAAnB,KAGIC,EAAc,uFAAkFP,EAAiBH,UAAnG,4BAEZW,EAAe,WACjBb,EAAoBD,EAAiBR,KAAI,SAACC,EAAGC,GAQzC,OAPAM,EAAiBN,GAAK,IACtBM,EAAiB,GAAK,IACtBA,EAAiB,GAAK,IACtBA,EAAiB,GAAK,IACtBA,EAAiB,GAAK,IACtBA,EAAiB,IAAM,IACvBA,EAAiB,IAAM,IAChBA,EAAiBN,QAIhCI,IAAMiB,WAAU,WACZD,MACD,IAEH,IAAME,EAAO,uCAAG,sBAAAC,EAAA,yDAC8B,KAAtCX,EAAiBH,UAAUe,OADnB,gCAGFC,MAAMN,GAAaO,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,YAAgB,IAAbG,EAAY,EAAZA,MAEjDX,GADU,IAAVW,MAJA,2CAAH,qDAcbzB,IAAMiB,WAAU,WACZC,MACD,CAACV,EAAiBH,YAErB,IA4CMqB,EAAe,WACZb,EAOK5B,GACN2B,GAAmB,SAAAe,GAAI,kCAChBA,GADgB,IAEnB1C,SAAS,QATb2C,QAAQC,IAAI,MAAOhB,GACnBD,GAAmB,SAAAe,GAAI,kCAChBA,GADgB,IAEnBjB,WAAW,QAUnBoB,YAAW,WACPlB,GAAmB,SAAAe,GAAI,kCAChBA,GADgB,IAEnBjB,WAAW,EACXzB,SAAS,SAEd,MAKP,OACI,sBAAKN,UAAU,YAAf,UACI,qBAAKA,UAAU,kBAAf,SACI,qBAAKA,UAAU,gBAAf,SACI,sBAAKA,UAAU,wBAAf,UACI,oBAAIA,UAAU,cAAd,wNAIA,oBAAIA,UAAS,0BAAqBgC,EAAgBD,UAAY,UAAY,IAA1E,SAAiFR,EAAiB6B,KAAK,MACvG,mBAAGpD,UAAU,aAAb,kUACA,cAAC,EAAD,CAAUQ,QA9EF,SAAC6C,GAazB,GAZuC,IAAnCxB,EAAiBF,cACjBG,GAAoB,SAAAkB,GAAI,kCACjBA,GADiB,IAEpBpB,aAAa,OAGrBE,GAAoB,SAAAkB,GAAI,kCACjBA,GADiB,IAEpBrB,cAAeqB,EAAKrB,cAAgB,OAI3B,WAAT0B,EACAhB,IACAP,GAAoB,SAAAkB,GAAI,kCACjBA,GADiB,IAEpBtB,UAAW,GACXC,cAAe,EACfC,aAAa,WAGhB,CAEG,IADJ,IAAI0B,EAAa,YAAO/B,GACXN,EAAI,EAAGA,EAAIqC,EAAcb,OAAQxB,IACtC,GAAyB,MAArBqC,EAAcrC,GAAY,CAC3BqC,EAAcrC,GAAKoC,EACnB,MAGPxB,EAAiBF,cAAgB,IACjCG,GAAoB,SAAAkB,GAAI,kCACjBA,GADiB,IAEpBtB,UAAWsB,EAAKtB,UAAY2B,OAGpC7B,EAAoB8B,OA4CJtB,EAAgBD,UACV,mBAAG/B,UAAU,UAAb,4HACAgC,EAAgB1B,QACZ,mBAAGN,UAAU,UAAb,uMACA,cAAC,EAAD,CAAWO,gBAvFrB,WACpBkB,GAAW,SAAAuB,GAAI,OAAYA,MAsFgD1C,QAASA,IAK9DA,GAAWuB,EAAiBD,aAAeM,EAEvC,cAAC,IAAD,CAASnC,GAAG,SAAZ,SACE,cAAC,EAAD,CAAYW,aAAcqC,MAF5B,cAAC,EAAD,CAAarC,aAAcqC,WAUjD,sBAAK/C,UAAU,mBAAf,UACI,qBAAKE,IAAI,6BAA6BC,IAAI,KAC1C,cAAC,EAAD,IACA,cAAC,EAAD,YCtIDoD,EAtBO,WACpB,OACE,cAAC,IAAD,UACE,qBAAKvD,UAAU,UAAf,SACE,qBAAKA,UAAU,YAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOwD,OAAK,EAACC,KAAK,GAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,OAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,QAAZ,SACE,cAAC,EAAD,gBCfdC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.f3798f9f.chunk.js","sourcesContent":["import React from 'react';\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport '../styles/btnClose.scss';\r\n\r\nexport const BtnClose = () => {\r\n    return (\r\n        <NavLink to=\"/\">\r\n            <div className=\"btn-block\">\r\n                <button className=\"btn-close\">\r\n                    <div className=\"btn-close__lines\">\r\n                        <span className=\"btn-close--lineFirst\"></span>\r\n                        <span className=\"btn-close--lineSecond\"></span>\r\n                    </div>\r\n                </button>\r\n            </div>\r\n        </NavLink>\r\n    )\r\n};\r\n","import React from 'react';\r\nimport '../styles/qrcode.scss';\r\n\r\nexport const QRcode = () => {\r\n    return (\r\n        <div className=\"qr-code\">\r\n            <p className=\"qr-code__text\">Сканируйте QR-код для получения дополнительной информации</p>\r\n            <img src=\"images/final/qrcode.png\" alt=\"\" />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\nimport { BtnClose } from '../components/BtnClose';\r\nimport { QRcode } from '../components/QRcode';\r\n\r\nimport '../styles/final.scss';\r\n\r\nexport const Final = () => {\r\n    return (\r\n        <div className=\"side-page\">\r\n            <div className=\"side-page__left\">\r\n                <div className=\"final__success\">\r\n                    <div className=\"final__success--center\">\r\n                        <h1 className=\"left__title\">Заявка принята</h1>\r\n                        <p className=\"left__text\">Держите телефон под рукой.<br />Скоро с Вами свяжется наш менеджер. </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        \r\n            <div className=\"side-page__right\">\r\n                <img src=\"images/final/wallpaper.png\" alt=\"\" />\r\n                <BtnClose />\r\n                <QRcode />\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n","import React from 'react';\r\nimport '../styles/agreement.scss';\r\n\r\ninterface AgreementProps {\r\n    isAgree: boolean;\r\n    toggleAgreement: () => void;\r\n}\r\n\r\nexport const Agreement:React.FC<AgreementProps> = ({ isAgree, toggleAgreement }) => {\r\n    return (\r\n        <div className=\"agreement\">\r\n            <div onClick={toggleAgreement} className=\"agreement__checkbox\">\r\n                <div className=\"checkbox__lines\">\r\n                    {\r\n                        isAgree\r\n                            ? <>\r\n                                <span className=\"checkbox--lineFirst\"></span>\r\n                                <span className=\"checkbox--lineSecond\"></span>\r\n                            </>\r\n                            : null\r\n                    }\r\n                </div>\r\n            </div>\r\n            <p className=\"agreement__text\">Согласие на обработку персональных данных</p>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport '../styles/btnConfirm.scss'\r\n\r\ninterface BtnConfirmProps {\r\n    onClickFinal: () => void;\r\n}\r\n\r\nexport const BtnConfirm: React.FC<BtnConfirmProps> = ({ onClickFinal }) => {\r\n    return (\r\n        <div onClick={onClickFinal}  className=\"confirm\">\r\n            <button className=\"confirm__btn\">Подтвердить номер</button>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport '../styles/keyboard.scss';\r\n\r\ninterface KeyboardProps {\r\n    onClick: (data: number | string) => void;\r\n}\r\n\r\nexport const Keyboard: React.FC<KeyboardProps> = ({ onClick }) => {\r\n    const numbers: Array<number> = Array(9).fill(0);\r\n\r\n    return (\r\n        <div className=\"keyboard\">\r\n            {\r\n                numbers.map((_, i) => {\r\n                    return <div key={i + 'key'} onClick={onClick.bind(null, i + 1)} id={`${i + 1}`} data-number={i + 1}>{i + 1}</div>\r\n                })\r\n            }\r\n            <div onClick={onClick.bind(null, 0)} id=\"0\" data-number=\"0\">0</div>\r\n            <div onClick={onClick.bind(null, 'delete')} id=\"delete\" data-number=\"delete\">Стереть</div>\r\n        </div>\r\n    )\r\n};\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { Agreement } from '../components/Agreement';\r\nimport { BtnClose } from '../components/BtnClose';\r\nimport { BtnConfirm } from '../components/BtnConfirm';\r\nimport { Keyboard } from '../components/Keyboard';\r\nimport { QRcode } from '../components/QRcode';\r\nimport { IPhoneNumber, ICheckCorrect } from '../types/types';\r\n\r\nimport '../styles/main.scss';\r\n\r\nexport const Main: React.FC = () => {\r\n    const [telephoneNumbers, setTelephoneNumbers]  = React.useState<Array<any>>(Array(16).fill('_'));\r\n    const [isAgree, setIsAgree] = React.useState<boolean>(false);\r\n    const [currentTelephone, setCurrentTelephone] = React.useState<IPhoneNumber>({ telephone: '', currentNumber: 0, isConfirmed: false});\r\n    const [checkingCorrect, setCheckingCorrect] = React.useState<ICheckCorrect>({isAgree: false, isConfirm: false});\r\n    const [isValidate, setIsValidate] = React.useState<boolean>(false);\r\n\r\n    let accessKeyValidate = 'e610a2d5d0ba6c99699e781f4347ff31';\r\n    let urlValidate = 'http://apilayer.net/api/validate?access_key=' + accessKeyValidate + '&number=' + currentTelephone.telephone + '&country_code=RU' + '&format=1';\r\n\r\n    const initialState = () => {\r\n        setTelephoneNumbers(telephoneNumbers.map((_, i) => {\r\n            telephoneNumbers[i] = '_';\r\n            telephoneNumbers[0] = '+';\r\n            telephoneNumbers[1] = '7';\r\n            telephoneNumbers[2] = '(';\r\n            telephoneNumbers[6] = ')';\r\n            telephoneNumbers[10] = '-';\r\n            telephoneNumbers[13] = '-';\r\n            return telephoneNumbers[i];\r\n        }));\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        initialState();\r\n    }, [])\r\n\r\n    const fetched = async () => {\r\n        if (currentTelephone.telephone.length === 10)\r\n        {\r\n            await fetch(urlValidate).then(res => res.json()).then(({ valid }) => {\r\n                if (valid === true) {\r\n                    setIsValidate(true)\r\n                }\r\n                else {\r\n                    setIsValidate(false)\r\n                }\r\n            })\r\n        }\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        fetched();\r\n    }, [currentTelephone.telephone])\r\n\r\n    const changeAgreement = () => {\r\n        setIsAgree(prev => prev = !prev);\r\n    };\r\n    const handleClickKeyboard = (data: number | string) => {\r\n        if (currentTelephone.currentNumber === 9) {\r\n            setCurrentTelephone(prev => ({\r\n                ...prev,\r\n                isConfirmed: true,\r\n            }))\r\n        } else {\r\n        setCurrentTelephone(prev => ({\r\n            ...prev, \r\n            currentNumber: prev.currentNumber + 1,\r\n        }));\r\n    }\r\n\r\n        if (data === 'delete') {\r\n            initialState();\r\n            setCurrentTelephone(prev => ({\r\n                ...prev,\r\n                telephone: '',\r\n                currentNumber: 0,\r\n                isConfirmed: false,\r\n            }));\r\n        }\r\n        else {\r\n            let copyTelephone = [...telephoneNumbers];\r\n                for (let i = 0; i < copyTelephone.length; i++) {\r\n                    if (copyTelephone[i] === '_') {\r\n                       copyTelephone[i] = data;\r\n                       break;\r\n                    }\r\n            }\r\n            if (currentTelephone.currentNumber < 10) {\r\n                setCurrentTelephone(prev => ({\r\n                    ...prev,\r\n                    telephone: prev.telephone + data,\r\n                }));\r\n            }\r\n            setTelephoneNumbers(copyTelephone);\r\n        }\r\n    };\r\n\r\n\r\n    const clickHandler = () => {\r\n        if (!isValidate) {\r\n            console.log('yes', isValidate)\r\n            setCheckingCorrect(prev => ({\r\n                ...prev,\r\n                isConfirm: true\r\n            }))\r\n        }\r\n        else if (!isAgree) {\r\n            setCheckingCorrect(prev => ({\r\n                ...prev,\r\n                isAgree: true\r\n            }))\r\n        }\r\n\r\n        setTimeout(() => {\r\n            setCheckingCorrect(prev => ({\r\n                ...prev,\r\n                isConfirm: false,\r\n                isAgree: false,\r\n            }))  \r\n        }, 2000)\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"side-page\">\r\n            <div className=\"side-page__left\">\r\n                <div className=\"main__success\">\r\n                    <div className=\"main__success--center\">\r\n                        <h2 className=\"main__title\">Введите ваш номер мобильного телефона</h2>\r\n                        {\r\n                            \r\n                        }\r\n                        <h1 className={`main__telephone ${checkingCorrect.isConfirm ? 'isRight' : ''}`}>{telephoneNumbers.join('')}</h1>\r\n                        <p className=\"main__text\">и с Вами свяжется наш менеждер для дальнейшей консультации</p>\r\n                        <Keyboard onClick={handleClickKeyboard} />\r\n                        {\r\n                            checkingCorrect.isConfirm\r\n                                ? <p className=\"isRight\">Неверно введен номер</p>\r\n                                : checkingCorrect.isAgree\r\n                                    ? <p className=\"isRight\">Дайте свое согласие на обработку ПД</p>\r\n                                    : <Agreement toggleAgreement={changeAgreement} isAgree={isAgree} />\r\n                                \r\n                        }\r\n                        \r\n                        {\r\n                            !(isAgree && currentTelephone.isConfirmed && isValidate)\r\n                                ? <BtnConfirm  onClickFinal={clickHandler} />\r\n                                : <NavLink to=\"/final\">\r\n                                    <BtnConfirm onClickFinal={clickHandler} />\r\n                                </NavLink>\r\n                        }\r\n                        \r\n                    </div>\r\n                </div>\r\n            \r\n            </div>\r\n            <div className=\"side-page__right\">\r\n                <img src=\"images/final/wallpaper.png\" alt=\"\" />\r\n                <BtnClose />\r\n                <QRcode />\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\n\nimport { Banner } from './pages/Banner';\nimport { Final } from './pages/Final';\nimport { Main } from './pages/Main';\n\nconst App: React.FC = () => {\n  return (\n    <Router>\n      <div className=\"wrapper\">\n        <div className=\"container\">\n          <Switch>\n            <Route exact path=\"\">\n              <Main />\n            </Route>\n            <Route path=\"main\">\n              <Main />\n            </Route>\n            <Route path=\"final\">\n              <Final />\n            </Route>\n          </Switch>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}